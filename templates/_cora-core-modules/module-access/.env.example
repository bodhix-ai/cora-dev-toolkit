# =============================================================================
# Module-Access Environment Variables
# =============================================================================
# Copy this file to .env.local and fill in your values.
# NEVER commit .env.local to version control!
# =============================================================================

# =============================================================================
# Authentication Provider Selection
# =============================================================================
# Select which authentication provider to use: 'clerk' or 'okta'
AUTH_PROVIDER=okta

# =============================================================================
# Okta Configuration (when AUTH_PROVIDER=okta)
# =============================================================================
# Get these from your Okta Admin Console > Applications > Your App

# Okta Domain (e.g., dev-12345678.okta.com or your-company.okta.com)
OKTA_DOMAIN=your-domain.okta.com

# Okta Client ID (from your OIDC app settings)
OKTA_CLIENT_ID=0oaxxxxxxxxxxxxxxxx

# Okta Client Secret (KEEP SECRET! Never commit this)
OKTA_CLIENT_SECRET=your-client-secret-here

# Okta Issuer URL (usually https://{domain}/oauth2/default)
OKTA_ISSUER=https://your-domain.okta.com/oauth2/default

# Okta JWKS URI (for Lambda authorizer JWT verification)
# Usually: https://{domain}/oauth2/default/v1/keys
OKTA_JWKS_URI=https://your-domain.okta.com/oauth2/default/v1/keys

# =============================================================================
# Clerk Configuration (when AUTH_PROVIDER=clerk)
# =============================================================================
# Get these from your Clerk Dashboard > API Keys

# Clerk Publishable Key (safe to expose in frontend)
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY=pk_test_xxxxxxxxxxxxxxxx

# Clerk Secret Key (KEEP SECRET! Never commit this)
CLERK_SECRET_KEY=sk_test_xxxxxxxxxxxxxxxx

# Clerk Issuer URL (for JWT verification)
CLERK_ISSUER=https://clerk.your-domain.com

# =============================================================================
# NextAuth.js Configuration (required for Okta)
# =============================================================================
# These are only needed when using Okta with NextAuth.js

# NextAuth Secret - REQUIRED for JWT encryption
# Generate with: openssl rand -base64 32
NEXTAUTH_SECRET=your-generated-secret-here

# NextAuth URL - Must match your application URL
# Development: http://localhost:3000
# Production: https://your-app-domain.com
NEXTAUTH_URL=http://localhost:3000

# =============================================================================
# Supabase Configuration
# =============================================================================
# Get these from: https://supabase.com/dashboard/project/{project}/settings/api

# Supabase Project URL
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co

# Supabase Anon/Public Key (safe to expose in frontend)
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key

# Supabase Service Role Key (KEEP SECRET! Only for backend/Lambda use)
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key

# =============================================================================
# Lambda Authorizer Configuration (for pm-app-infra)
# =============================================================================
# These are used by the API Gateway Lambda Authorizer

# Provider selection for authorizer (matches AUTH_PROVIDER)
PROVIDER=okta

# Okta settings for authorizer (when PROVIDER=okta)
# OKTA_ISSUER - same as above
# OKTA_JWKS_URI - same as above
# OKTA_AUDIENCE - usually your client ID or API identifier

# Clerk settings for authorizer (when PROVIDER=clerk)
# CLERK_ISSUER - same as above
# CLERK_AUDIENCE - optional, for additional validation
