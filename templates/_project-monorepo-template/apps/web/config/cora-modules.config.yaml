# =============================================================================
# CORA Modules Configuration
# =============================================================================
# This file is auto-generated by merging all enabled module configurations.
# DO NOT EDIT MANUALLY - changes will be overwritten!
#
# Generated by: create-cora-project.sh
# To modify: Update individual module.config.yaml files and regenerate
# =============================================================================


# -----------------------------------------------------------------------------
# Module: module-access (core)
# -----------------------------------------------------------------------------

module_access:
  # Module Display Settings
  display_name: "Access Control"
  nav_icon: "Shield"
  
  # Admin Card Configuration
  admin_cards:
    platform:
      enabled: true
      path: "/admin/sys/access"
      title: "User & Access Management"
      description: "Manage users, organizations, roles, and permissions"
      icon: "Shield"
      priority: 10  # Lower number = higher priority in admin dashboard
    organization:
      enabled: true
      path: "/admin/org/access"
      title: "Member Management"
      description: "Manage organization members and invitations"
      icon: "People"
      priority: 10
  
  # Organization Settings
  organizations:
    enable_multi_org: true
    require_domain_verification: false
    default_role: "org_user"  # Default role for new org members
  
  # User Profile Settings
  user_profiles:
    enable_profile_images: true
    enable_bio: true
    enable_custom_fields: false
  
  # Permission Settings
  permissions:
    enable_fine_grained_permissions: true
    cache_ttl_seconds: 300  # 5 minutes
  
  # Security Settings
  security:
    session_timeout_minutes: 60
    enforce_mfa: false  # Multi-factor authentication
    password_reset_token_ttl_hours: 24

# -----------------------------------------------------------------------------
# Module: module-ai (core)
# -----------------------------------------------------------------------------

module_ai:
  # Module Display Settings
  display_name: "AI Provider Management"
  nav_icon: "Psychology"
  
  # Admin Card Configuration
  admin_cards:
    platform:
      enabled: true
      path: "/admin/sys/ai"
      title: "AI Provider Management"
      description: "Configure AI providers, models, and access control"
      icon: "Psychology"
      priority: 20  # Lower number = higher priority in admin dashboard
    organization:
      enabled: true
      path: "/admin/org/ai"
      title: "AI Settings"
      description: "Manage AI configuration for your organization"
      icon: "Psychology"
      priority: 20
  
  # Provider Management
  providers:
    # Enable multiple providers simultaneously
    enable_multi_provider: true
    
    # Default provider when multiple are enabled
    default_provider: "aws_bedrock"  # aws_bedrock | azure_ai_foundry | google_ai
    
    # Provider failover (try next provider if primary fails)
    enable_failover: true
    
    # Provider health monitoring
    enable_health_checks: true
    health_check_interval_seconds: 300  # 5 minutes
  
  # Model Configuration
  models:
    # Default model for each provider
    defaults:
      aws_bedrock: "anthropic.claude-3-5-sonnet-20241022-v2:0"
      azure_ai_foundry: "gpt-4"
      google_ai: "gemini-pro"
    
    # Model access control
    restrict_models_by_org: false  # Restrict models per organization
    restrict_models_by_role: false  # Restrict models by user role
  
  # Usage & Rate Limiting
  usage:
    # Enable usage tracking
    enable_usage_tracking: true
    
    # Rate limiting
    enable_rate_limiting: false
    requests_per_minute: 60
    requests_per_day: 1000
    
    # Cost tracking
    enable_cost_tracking: true
  
  # Caching & Performance
  cache:
    # Enable response caching for identical requests
    enable_response_cache: false
    cache_ttl_seconds: 3600  # 1 hour
  
  # Security
  security:
    # Require organization context for all AI requests
    require_org_context: true
    
    # Log all AI requests for audit
    enable_request_logging: true
    
    # Content filtering
    enable_content_filtering: false

# -----------------------------------------------------------------------------
# Module: module-ws (core)
# -----------------------------------------------------------------------------

module_ws:
  # Module Display Settings
  display_name: "Workspace Management"
  
  # Navigation Configuration
  navigation:
    label_singular: "Workspace"
    label_plural: "Workspaces"
    icon: "WorkspaceIcon"
    show_in_main_nav: true
    nav_priority: 10  # Lower number = higher in navigation order
  
  # Admin Card Configuration
  # Supports both platform-level and organization-level admin cards
  admin_cards:
    platform:
      enabled: true
      path: "/admin/sys/ws"
      title: "Workspace Configuration"
      description: "Configure workspace module behavior, navigation labels, and feature flags"
      icon: "SettingsIcon"
      priority: 40
      context: "platform"
    organization:
      enabled: true
      path: "/admin/org/ws"
      title: "Workspace Management"
      description: "Manage organization workspaces, members, and analytics"
      icon: "WorkspaceIcon"
      priority: 40
      context: "organization"
  
  # Workspace Features
  features:
    # Enable favorites functionality
    enable_favorites: true
    
    # Enable tags/labels for workspaces
    enable_tags: true
    
    # Enable color-coding for workspaces
    enable_color_coding: true
    
    # Enable workspace templates
    enable_templates: false
    
    # Enable workspace archiving (soft delete)
    enable_archiving: true
  
  # Workspace Settings
  workspace:
    # Default color for new workspaces (hex format)
    default_color: "#1976d2"
    
    # Maximum workspaces per organization (0 = unlimited)
    max_workspaces_per_org: 0
    
    # Maximum members per workspace (0 = unlimited)
    max_members_per_workspace: 0
    
    # Retention period for deleted workspaces (days)
    deleted_retention_days: 30
    
    # Auto-cleanup expired workspaces
    enable_auto_cleanup: true
    cleanup_schedule: "0 3 * * *"  # Daily at 3 AM (cron format)
  
  # Member Management
  members:
    # Default role for new workspace members
    default_role: "ws_user"
    
    # Allow workspace owners to invite external users
    allow_external_invites: false
    
    # Require approval for new members
    require_member_approval: false
  
  # Permissions
  permissions:
    # Allow non-owners to create workspaces
    allow_user_workspace_creation: true
    
    # Workspace visibility options
    default_visibility: "private"  # private | organization | public
    
    # Role-based access control
    roles:
      ws_owner:
        description: "Full control over workspace and members"
        can_delete: true
        can_manage_members: true
        can_edit_settings: true
      ws_admin:
        description: "Can update workspace settings, view-only for members"
        can_delete: false
        can_manage_members: false
        can_edit_settings: true
      ws_user:
        description: "View-only access to workspace and members"
        can_delete: false
        can_manage_members: false
        can_edit_settings: false
  
  # Integration Settings
  integrations:
    # Enable workspace-specific AI contexts
    enable_ai_context: false
    
    # Enable workspace-specific knowledge bases
    enable_kb_integration: false
    
    # Enable workspace chat channels
    enable_chat_integration: false

# -----------------------------------------------------------------------------
# Module: module-mgmt (core)
# -----------------------------------------------------------------------------

module_mgmt:
  # Module Display Settings
  display_name: "Platform Management"
  nav_icon: "Settings"
  
  # Admin Card Configuration
  # Supports both platform-level and organization-level admin cards
  admin_cards:
    platform:
      enabled: true
      path: "/admin/sys/mgmt"
      title: "Platform Management"
      description: "Monitor system health, manage configurations, and view analytics"
      icon: "Settings"
      priority: 30  # Lower number = higher priority in admin dashboard
      context: "platform"
    organization:
      enabled: true
      path: "/admin/org/mgmt/"
      title: "Module Configuration"
      description: "Manage module enablement and configuration for your organization"
      icon: "Extension"
      priority: 30
      context: "organization"
  
  # Health Monitoring
  health:
    # Enable health check endpoints
    enable_health_checks: true
    
    # Health check interval
    check_interval_seconds: 60
    
    # Alert on failures
    enable_alerts: false
    alert_threshold_failures: 3
  
  # Analytics & Metrics
  analytics:
    # Enable platform analytics
    enable_analytics: true
    
    # Metrics collection
    collect_api_metrics: true
    collect_user_metrics: true
    collect_performance_metrics: true
    
    # Retention period for metrics (days)
    metrics_retention_days: 90
  
  # System Configuration
  system:
    # Maintenance mode
    enable_maintenance_mode: false
    maintenance_message: "System is currently under maintenance. Please check back soon."
    
    # Feature flags management
    enable_feature_flags: true
    
    # System notifications
    enable_system_notifications: true
  
  # Audit Logging
  audit:
    # Enable audit logging for admin actions
    enable_audit_logging: true
    
    # Log retention period (days)
    log_retention_days: 365
    
    # Events to log
    log_user_actions: true
    log_system_events: true
    log_security_events: true
  
  # Backup & Recovery
  backup:
    # Enable automated backups
    enable_auto_backup: false
    backup_schedule: "0 2 * * *"  # Daily at 2 AM (cron format)
    backup_retention_days: 30

# -----------------------------------------------------------------------------
# Module: module-kb (core)
# -----------------------------------------------------------------------------

module_kb:
  # Module Display Settings
  display_name: "Knowledge Base"
  nav_icon: "LibraryBooks"

  # Admin Card Configuration (New Format)
  admin_cards:
    platform:
      enabled: true
      path: "/admin/sys/kb"
      title: "Knowledge Base Config"
      description: "Configure system-wide KB settings, embedding models, and RAG defaults"
      icon: "LibraryBooks"
      priority: 40  # After core platform features (access=10, ai=20, mgmt=30)
      context: "platform"
    
    organization:
      enabled: true
      path: "/admin/org/kb"
      title: "Knowledge Bases"
      description: "Manage organization knowledge bases and document settings"
      icon: "LibraryBooks"
      priority: 30  # After org settings (10) and members (20)
      context: "organization"

  # Knowledge Base Settings
  knowledge_bases:
    # Maximum file size for document uploads (in MB)
    max_file_size_mb: 50
    
    # Allowed file types for upload
    allowed_file_types:
      - "pdf"
      - "docx"
      - "txt"
      - "md"
      - "html"
    
    # Default chunk size for document processing
    default_chunk_size: 1000
    
    # Default chunk overlap
    default_chunk_overlap: 200

  # Vector Search Settings
  vector_search:
    # Default number of results to return
    default_top_k: 5
    
    # Similarity threshold (0-1)
    similarity_threshold: 0.7
    
    # Embedding model configuration
    embedding_model: "amazon.titan-embed-text-v1"

  # Access Scopes
  access_scopes:
    enable_system_scope: true
    enable_org_scope: true
    enable_workspace_scope: true
    enable_chat_scope: true

  # Processing Settings
  processing:
    # Enable async document processing
    async_processing: true
    
    # SQS queue for document processing
    use_sqs_queue: true
    
    # Retry settings
    max_retries: 3
    retry_delay_seconds: 30

# -----------------------------------------------------------------------------
# Module: module-chat (core)
# -----------------------------------------------------------------------------

module_chat:
  # Module Display Settings
  display_name: "Chat"
  nav_icon: "Chat"

  # Admin Card Configuration
  admin_cards:
    platform:
      enabled: true
      path: "/admin/sys/chat"
      title: "Chat Config"
      description: "Configure system-wide chat settings and defaults"
      icon: "Chat"
      priority: 45  # After KB (40)
      context: "platform"
    
    organization:
      enabled: true
      path: "/admin/org/chat"
      title: "Chat Settings"
      description: "Manage organization chat settings and preferences"
      icon: "Chat"
      priority: 35  # After KB (30)
      context: "organization"

  # Chat Settings
  chat:
    # Maximum messages per chat session
    max_messages_per_session: 1000
    
    # Default AI model for chat (overridable by user)
    default_model: "gpt-4"
    
    # Message retention policy (in days)
    retention_days: 90

  # Sharing Settings
  sharing:
    # Enable workspace-level chat sharing
    enable_workspace_sharing: true
    
    # Enable organization-level chat sharing
    enable_org_sharing: false

  # Streaming Settings
  streaming:
    # Enable streaming responses
    enable_streaming: true
    
    # Chunk size for streaming
    chunk_size: 1024

# -----------------------------------------------------------------------------
# Module: module-voice (functional)
# -----------------------------------------------------------------------------

module_voice:
  # Module Display Settings
  display_name: "Voice Interviews"
  
  # Navigation Configuration
  navigation:
    label_singular: "Interview"
    label_plural: "Interviews"
    icon: "MicrophoneIcon"
    show_in_main_nav: true
    nav_priority: 30  # Lower number = higher in navigation order
  
  # Admin Card Configuration
  # Supports both platform-level and organization-level admin cards
  admin_cards:
    platform:
      enabled: true
      path: "/admin/sys/voice"
      title: "Voice Configuration"
      description: "Manage platform-wide voice service credentials (Daily.co, Deepgram, Cartesia)"
      icon: "SettingsIcon"
      priority: 50
      context: "platform"
    organization:
      enabled: true
      path: "/admin/org/voice"
      title: "Voice Settings"
      description: "Manage interview configurations and view analytics"
      icon: "MicrophoneIcon"
      priority: 50
      context: "organization"
  
  # Voice Interview Features
  features:
    # Enable Daily.co WebRTC integration
    enable_daily_co: true
    
    # Enable ECS Pipecat bot orchestration
    enable_ecs_bot: true
    
    # Enable real-time transcription
    enable_real_time_transcription: true
    
    # Enable S3 transcript archival
    enable_transcript_archival: true
    
    # Enable AI-powered analytics
    enable_ai_analytics: true
    
    # Enable standby bot pool (for faster session startup)
    enable_standby_pool: true
    
    # Enable KB grounding for interviews
    enable_kb_grounding: true
  
  # Interview Session Settings
  sessions:
    # Maximum concurrent sessions per organization (0 = unlimited)
    max_concurrent_sessions: 10
    
    # Session timeout in minutes (0 = no timeout)
    session_timeout_minutes: 60
    
    # Default session status on creation
    default_status: "pending"
    
    # Auto-cleanup completed sessions after days
    completed_retention_days: 90
    
    # Auto-cleanup failed sessions after days
    failed_retention_days: 7
  
  # Transcript Settings
  transcripts:
    # Storage location: database | s3 | both
    storage_location: "both"
    
    # S3 bucket prefix for transcript archival
    s3_prefix: "voice-transcripts/"
    
    # Transcript retention period (days, 0 = indefinite)
    retention_days: 90
    
    # Enable transcript search/indexing
    enable_search: true
    
    # Generate AI summary for transcripts
    enable_ai_summary: true
  
  # Bot Configuration
  bot:
    # Standby pool size (pre-warmed bots)
    standby_pool_size: 2
    
    # Bot startup timeout (seconds)
    startup_timeout: 30
    
    # Bot health check interval (seconds)
    health_check_interval: 60
    
    # Auto-restart failed bots
    enable_auto_restart: true
    
    # Maximum bot restart attempts
    max_restart_attempts: 3
  
  # AI Analytics Settings
  analytics:
    # Enable automatic analytics generation
    enable_auto_generation: true
    
    # Scoring algorithm: basic | advanced
    scoring_algorithm: "advanced"
    
    # Minimum score threshold (0-100)
    min_score_threshold: 0
    
    # Generate recommendations
    enable_recommendations: true
    
    # Analytics retention period (days, 0 = indefinite)
    retention_days: 365
  
  # External Service Credentials
  # These are managed at the platform level via voice_credentials table
  external_services:
    daily_co:
      required: true
      description: "WebRTC video room service"
      credential_type: "api_key"
    
    deepgram:
      required: true
      description: "Speech-to-text transcription"
      credential_type: "api_key"
    
    cartesia:
      required: true
      description: "Text-to-speech synthesis"
      credential_type: "api_key"
  
  # Integration Settings
  integrations:
    # Enable KB grounding for AI responses
    enable_kb_integration: true
    
    # Enable workspace association
    enable_workspace_integration: true
    
    # Enable chat export of transcripts
    enable_chat_integration: false
    
    # Enable calendar integration for scheduling
    enable_calendar_integration: false
  
  # Permissions
  permissions:
    # Allow all users to create sessions
    allow_user_session_creation: true
    
    # Require approval for session creation
    require_session_approval: false
    
    # Role-based access control
    roles:
      voice_admin:
        description: "Full control over voice interviews and configurations"
        can_create_sessions: true
        can_manage_configs: true
        can_view_analytics: true
        can_delete_sessions: true
      voice_interviewer:
        description: "Can create and conduct interviews"
        can_create_sessions: true
        can_manage_configs: false
        can_view_analytics: true
        can_delete_sessions: false
      voice_viewer:
        description: "View-only access to interviews and transcripts"
        can_create_sessions: false
        can_manage_configs: false
        can_view_analytics: true
        can_delete_sessions: false
  
  # Business Hours Settings (for standby pool optimization)
  business_hours:
    # Enable business hours optimization
    enabled: false
    
    # Timezone for business hours (IANA timezone)
    timezone: "America/New_York"
    
    # Business days (0 = Sunday, 6 = Saturday)
    business_days: [1, 2, 3, 4, 5]  # Monday-Friday
    
    # Business start time (24-hour format)
    start_time: "09:00"
    
    # Business end time (24-hour format)
    end_time: "17:00"
    
    # Standby pool size during business hours
    business_hours_pool_size: 5
    
    # Standby pool size outside business hours
    off_hours_pool_size: 1

# -----------------------------------------------------------------------------
# Module: module-eval (functional)
# -----------------------------------------------------------------------------

module_eval:
  # Module Display Settings
  display_name: "Document Evaluation"
  
  # Navigation Configuration
  navigation:
    label_singular: "Evaluation"
    label_plural: "Evaluations"
    icon: "ClipboardCheckIcon"
    show_in_main_nav: true
    nav_priority: 40  # Lower number = higher in navigation order
  
  # Admin Card Configuration
  # Supports both platform-level and organization-level admin cards
  admin_cards:
    platform:
      enabled: true
      path: "/admin/sys/eval"
      title: "Evaluation Configuration"
      description: "Manage platform-wide evaluation settings and scoring algorithms"
      icon: "SettingsIcon"
      priority: 60
      context: "platform"
    organization:
      enabled: true
      path: "/admin/org/eval"
      title: "Evaluation Settings"
      description: "Manage criteria sets, document types, and evaluation workflows"
      icon: "ClipboardCheckIcon"
      priority: 60
      context: "organization"
  
  # Evaluation Features
  features:
    # Enable AI-powered document evaluation
    enable_ai_evaluation: true
    
    # Enable manual scoring override
    enable_manual_override: true
    
    # Enable criteria import/export
    enable_criteria_import_export: true
    
    # Enable result editing and audit trail
    enable_result_editing: true
    
    # Enable citation tracking
    enable_citation_tracking: true
    
    # Enable bulk evaluation
    enable_bulk_evaluation: true
    
    # Enable KB grounding for evaluation
    enable_kb_grounding: true
  
  # Scoring Settings
  scoring:
    # Default scoring mode: boolean | detailed
    default_categorical_mode: "detailed"
    
    # Show numerical compliance scores
    show_numerical_score: true
    
    # Minimum confidence threshold (0-100)
    min_confidence_threshold: 70
    
    # Enable weighted criteria scoring
    enable_weighted_scoring: true
    
    # Default weight for criteria items
    default_criteria_weight: 1.0
    
    # Require citations for scores
    require_citations: true
    
    # Maximum citations per criteria item
    max_citations_per_item: 10
  
  # Criteria Management
  criteria:
    # Allow users to create custom criteria sets
    allow_custom_criteria: true
    
    # Require approval for custom criteria
    require_criteria_approval: false
    
    # Enable criteria versioning
    enable_versioning: true
    
    # Maximum criteria items per set
    max_items_per_set: 100
    
    # Enable criteria templates
    enable_templates: true
    
    # Allow criteria delegation to organizations
    allow_org_delegation: true
  
  # Document Types
  document_types:
    # Allow custom document types
    allow_custom_types: true
    
    # Default document types (created on module initialization)
    default_types:
      - code: "policy"
        label: "Policy Document"
        description: "Organizational policies and procedures"
      - code: "contract"
        label: "Contract"
        description: "Legal contracts and agreements"
      - code: "proposal"
        label: "Proposal"
        description: "Business proposals and RFPs"
      - code: "report"
        label: "Report"
        description: "Analysis and research reports"
  
  # Evaluation Workflow
  workflow:
    # Default status on evaluation creation
    default_status: "pending"
    
    # Auto-start evaluations when created
    auto_start: false
    
    # Require review before finalizing
    require_review: true
    
    # Enable multi-stage evaluation
    enable_multi_stage: false
    
    # Auto-archive completed evaluations after days
    completed_retention_days: 365
    
    # Auto-archive failed evaluations after days
    failed_retention_days: 30
  
  # Status Options
  status_options:
    # System-level status options (cannot be modified by orgs)
    system:
      - code: "pending"
        label: "Pending"
        description: "Evaluation queued for processing"
      - code: "in_progress"
        label: "In Progress"
        description: "Evaluation currently running"
      - code: "completed"
        label: "Completed"
        description: "Evaluation finished successfully"
      - code: "failed"
        label: "Failed"
        description: "Evaluation encountered an error"
    
    # Allow organizations to define custom status options
    allow_org_custom_status: true
  
  # Export Settings
  export:
    # Supported export formats
    formats: ["json", "csv", "pdf"]
    
    # Default export format
    default_format: "json"
    
    # Include citations in export
    include_citations: true
    
    # Include edit history in export
    include_edit_history: false
    
    # Maximum export size (MB)
    max_export_size_mb: 50
  
  # AI Provider Settings
  ai:
    # Default AI provider for evaluation
    default_provider: "aws_bedrock"
    
    # Model selection for evaluation
    model_preferences:
      aws_bedrock: "claude-3-5-sonnet-v2"
      azure_ai_foundry: "gpt-4"
      google_ai: "gemini-pro"
    
    # Maximum tokens for evaluation context
    max_context_tokens: 100000
    
    # Temperature for AI evaluation (0-1)
    temperature: 0.3
    
    # Enable streaming responses
    enable_streaming: false
  
  # Integration Settings
  integrations:
    # Enable KB integration for context
    enable_kb_integration: true
    
    # Enable workspace association
    enable_workspace_integration: true
    
    # Enable chat export of results
    enable_chat_integration: false
    
    # Enable webhook notifications
    enable_webhooks: false
  
  # Permissions
  permissions:
    # Allow all users to create evaluations
    allow_user_evaluation_creation: true
    
    # Require approval for evaluation creation
    require_evaluation_approval: false
    
    # Role-based access control
    roles:
      eval_admin:
        description: "Full control over evaluations and configurations"
        can_create_evaluations: true
        can_manage_criteria: true
        can_manage_doc_types: true
        can_view_all_results: true
        can_edit_results: true
        can_delete_evaluations: true
        can_export_results: true
      eval_reviewer:
        description: "Can create and review evaluations"
        can_create_evaluations: true
        can_manage_criteria: false
        can_manage_doc_types: false
        can_view_all_results: true
        can_edit_results: true
        can_delete_evaluations: false
        can_export_results: true
      eval_viewer:
        description: "View-only access to evaluations and results"
        can_create_evaluations: false
        can_manage_criteria: false
        can_manage_doc_types: false
        can_view_all_results: true
        can_edit_results: false
        can_delete_evaluations: false
        can_export_results: true
  
  # Performance Settings
  performance:
    # Enable result caching
    enable_caching: true
    
    # Cache TTL in seconds
    cache_ttl_seconds: 3600
    
    # Maximum concurrent evaluations per org
    max_concurrent_evaluations: 5
    
    # Evaluation timeout in minutes
    evaluation_timeout_minutes: 30
    
    # Enable background processing
    enable_background_processing: true
  
  # Audit Settings
  audit:
    # Track all result edits
    track_result_edits: true
    
    # Require edit justification
    require_edit_justification: true
    
    # Audit log retention days
    audit_retention_days: 730
    
    # Enable detailed logging
    enable_detailed_logging: true

# -----------------------------------------------------------------------------
# Module: module-eval-studio (functional)
# -----------------------------------------------------------------------------

module_eval_optimizer:
  # Module Display Settings
  display_name: "Evaluation Optimizer"
  
  # Navigation Configuration
  # Note: This module has a separate UI app (apps/eval-optimizer) for unique UX
  navigation:
    label_singular: "Optimizer"
    label_plural: "Optimizers"
    icon: "TuneIcon"
    show_in_main_nav: false  # Separate app, not in main nav
    nav_priority: 999  # Not shown in main app
  
  # Admin Card Configuration
  # System-level only (BA Workbench)
  admin_cards:
    platform:
      enabled: true
      path: "/admin/sys/eval-optimizer"
      title: "Evaluation Optimizer"
      description: "Business Analyst Workbench for optimizing evaluation prompts"
      icon: "TuneIcon"
      priority: 65
      context: "platform"
    organization:
      enabled: false  # Not org-level, only system-level
  
  # Optimizer Features
  features:
    # Enable truth key creation via web UI
    enable_truth_key_creation: true
    
    # Enable optimization runs
    enable_optimization_runs: true
    
    # Enable A/B comparison
    enable_ab_comparison: true
    
    # Enable project management
    enable_project_management: true
    
    # Enable sample document upload
    enable_sample_upload: true
    
    # Enable manual evaluation UI
    enable_manual_evaluation: true
  
  # Project Settings
  projects:
    # Allow users to create projects
    allow_project_creation: true
    
    # Require approval for project creation
    require_project_approval: false
    
    # Maximum projects per user
    max_projects_per_user: 10
    
    # Project member roles
    member_roles:
      - owner
      - admin
      - user
  
  # Sample Document Settings
  samples:
    # Maximum samples per project
    max_samples_per_project: 100
    
    # Supported document types
    supported_doc_types: ["pdf", "docx", "txt", "md"]
    
    # Maximum document size (MB)
    max_doc_size_mb: 10
  
  # Truth Key Settings
  truth_keys:
    # Require confidence score
    require_confidence: true
    
    # Require explanation
    require_explanation: true
    
    # Minimum explanation length (characters)
    min_explanation_length: 20
    
    # Allow citations
    allow_citations: true
    
    # Maximum citations per criterion
    max_citations_per_criterion: 5
  
  # Optimization Run Settings
  runs:
    # Default run timeout (minutes)
    default_timeout_minutes: 30
    
    # Maximum concurrent runs per project
    max_concurrent_runs: 3
    
    # Enable synchronous runs (Sprint 2)
    enable_sync_runs: true
    
    # Enable async runs (Sprint 3+)
    enable_async_runs: false
    
    # Minimum samples required for run
    min_samples_required: 1
    
    # Enable prompt versioning (Sprint 3+)
    enable_prompt_versioning: false
  
  # Results & Metrics Settings
  results:
    # Enable per-criteria breakdown
    enable_criteria_breakdown: true
    
    # Enable error analysis
    enable_error_analysis: true
    
    # Enable A/B comparison
    enable_ab_comparison: true
    
    # Metrics to display
    metrics: ["accuracy", "precision", "recall", "f1_score", "true_positive", "true_negative", "false_positive", "false_negative"]
  
  # Integration Settings
  integrations:
    # Enable module-eval integration (required)
    enable_eval_integration: true
    
    # Enable module-kb integration (for documents)
    enable_kb_integration: true
    
    # Enable module-ws integration (for workspaces)
    enable_workspace_integration: true
    
    # Enable module-access integration (for test orgs)
    enable_access_integration: true
  
  # Permissions
  permissions:
    # Database permissions
    database: ["rds:ExecuteStatement"]
    
    # Storage permissions (for documents)
    storage: ["s3:GetObject", "s3:PutObject"]
    
    # External permissions (for AI providers)
    external: ["bedrock:InvokeModel"]
    
    # Role-based access control
    roles:
      optimizer_admin:
        description: "Full control over optimization projects and configurations"
        can_create_projects: true
        can_manage_projects: true
        can_manage_members: true
        can_upload_samples: true
        can_create_truth_keys: true
        can_run_optimizations: true
        can_view_all_results: true
        can_delete_projects: true
        can_export_results: true
      optimizer_analyst:
        description: "Can create and manage optimization projects"
        can_create_projects: true
        can_manage_projects: true
        can_manage_members: false
        can_upload_samples: true
        can_create_truth_keys: true
        can_run_optimizations: true
        can_view_all_results: true
        can_delete_projects: false
        can_export_results: true
      optimizer_viewer:
        description: "View-only access to optimization projects and results"
        can_create_projects: false
        can_manage_projects: false
        can_manage_members: false
        can_upload_samples: false
        can_create_truth_keys: false
        can_run_optimizations: false
        can_view_all_results: true
        can_delete_projects: false
        can_export_results: false
  
  # Performance Settings
  performance:
    # Enable result caching
    enable_caching: true
    
    # Cache TTL in seconds
    cache_ttl_seconds: 3600
    
    # Enable background processing (Sprint 3+)
    enable_background_processing: false
  
  # Audit Settings
  audit:
    # Track all project changes
    track_project_changes: true
    
    # Track all truth key changes
    track_truth_key_changes: true
    
    # Track all run executions
    track_run_executions: true
    
    # Audit log retention days
    audit_retention_days: 730
    
    # Enable detailed logging
    enable_detailed_logging: true