# API Tracer Configuration
# 
# This file configures exclusion patterns for the API-Tracer validator.
# Patterns are used to exclude routes and paths from validation.

# Route exclusion patterns (routes that don't need frontend calls)
route_exclusions:
  - pattern: "^/internal/"
    reason: "Internal APIs (service-to-service communication)"
    enabled: true
    
  - pattern: "^/webhooks/"
    reason: "Webhook endpoints (called by external services)"
    enabled: true
    
  - pattern: "^/health$"
    reason: "Health check endpoints"
    enabled: true
    
  - pattern: "^/metrics$"
    reason: "Metrics/monitoring endpoints"
    enabled: true
    
  - pattern: "^/auth/callback"
    reason: "OAuth callback endpoints (redirects)"
    enabled: true
    
  - pattern: "^/api/auth/"
    reason: "NextAuth internal endpoints (session, csrf, signin, etc.)"
    enabled: true
    
  - pattern: "^/api/$"
    reason: "NextAuth/SWR generic cache keys"
    enabled: true

# Frontend API call exclusions (patterns to ignore when parsing frontend code)
frontend_exclusions:
  - pattern: "^/key$"
    reason: "Generic SWR cache key (not a real API route)"
    enabled: true
    
  - pattern: "^/\\{signInUrl\\}$"
    reason: "NextAuth placeholder (not a real API route)"
    enabled: true
    
  - pattern: "^/\\$\\{signInUrl\\}$"
    reason: "NextAuth template literal placeholder"
    enabled: true
    
  - pattern: "^/api/auth/"
    reason: "NextAuth internal API routes"
    enabled: true
    
  - pattern: "^/swr/"
    reason: "SWR internal cache keys"
    enabled: true

# Path exclusion patterns (directories to skip during file scanning)
path_exclusions:
  - pattern: ".build"
    reason: "Lambda build artifacts (bundled/concatenated code)"
    type: "backend"
    enabled: true
    
  - pattern: ".next"
    reason: "Next.js build artifacts (transpiled frontend code)"
    type: "frontend"
    enabled: true
    
  - pattern: "node_modules"
    reason: "NPM package dependencies"
    type: "frontend"
    enabled: true
    
  - pattern: "dist"
    reason: "Distribution builds"
    type: "both"
    enabled: true
    
  - pattern: "build"
    reason: "Generic build output directories"
    type: "both"
    enabled: true
    
  - pattern: "__pycache__"
    reason: "Python bytecode cache"
    type: "backend"
    enabled: true
    
  - pattern: ".venv"
    reason: "Python virtual environment"
    type: "backend"
    enabled: true
    
  - pattern: "_module-template"
    reason: "CORA module templates (not project code)"
    type: "both"
    enabled: true
    
  - pattern: "coverage"
    reason: "Test coverage reports"
    type: "both"
    enabled: true
    
  - pattern: ".test."
    reason: "Test files"
    type: "both"
    enabled: true
    
  - pattern: "_test_"
    reason: "Test directories"
    type: "both"
    enabled: true

# Notes:
# - Patterns use regex syntax for routes (e.g., ^/internal/ matches /internal/*)
# - Path patterns are simple string matching (e.g., ".build" matches any path containing .build)
# - Set enabled: false to temporarily disable a pattern without removing it
# - Add new patterns as needed for your project